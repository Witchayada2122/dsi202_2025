{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MindVibe - Product Details</title>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=National+Park&family=Prompt:wght@400;500;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Prompt', sans-serif; /* เปลี่ยนฟอนต์หลักเป็น Prompt */
            margin: 0;
            padding: 0;
            background-color: #FFF1E6; /* เบจอ่อน */
            color: #333;
            line-height: 1.6;
        }

        /* Header Section */
        .header {
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #FDFD95; /* สีเหลือง */
            padding: 25px 20px; /* ปรับ padding */
            color: #333;
            flex-direction: column;
            text-align: center;
            gap: 5px;
            max-width: 100%;
            margin: 0 auto;
        }

        .header .logo {
            font-family: 'Bebas Neue', sans-serif; /* โลโก้ยังใช้ Bebas Neue */
            font-size: 3em;
            font-weight: bold;
            color: #FF3377; /* สีชมพู */
            margin: 0;
        }

        .header .slogan {
            font-family: 'Prompt', sans-serif; /* สโลแกนใช้ Prompt */
            font-size: 1.2em; /* ปรับขนาดให้เข้ากับ Prompt */
            color: #333;
            margin: 0;
        }

        /* Product Detail Section */
        .product-detail {
            display: flex;
            flex-wrap: wrap; /* เพิ่มเพื่อให้ responsive บนจอเล็ก */
            justify-content: space-between;
            margin-top: 20px; /* เพิ่มระยะห่างจาก header */
            padding: 20px;
            background-color: #FFF1E6; /* เบจอ่อน */
        }

        .product-image {
            flex: 1 1 300px; /* ปรับ flex basis และอนุญาตให้ shrink/grow */
            text-align: center;
            padding-right: 20px; /* เพิ่มระยะห่างถ้าอยู่ข้างกัน */
            margin-bottom: 20px; /* เพิ่มระยะห่างเมื่อ stack บนจอเล็ก */
        }

        .product-image img {
            width: 100%; /* ปรับให้ responsive */
            max-width: 450px; /* เพิ่ม max-width เล็กน้อย */
            border-radius: 15px; /* เพิ่มความโค้งมน */
            box-shadow: 0 4px 8px rgba(0,0,0,0.1); /* เพิ่มเงา */
        }

        .product-info {
            flex: 1.5 1 400px; /* ปรับ flex basis */
            padding-left: 20px;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
        }

        .product-title-container { /* เพิ่ม container สำหรับชื่อสินค้าและไอคอน */
            display: flex;
            align-items: center; /* จัดให้อยู่กึ่งกลางแนวตั้ง */
            margin-bottom: 10px; /* ปรับ margin-bottom ของ h2 เดิม */
        }

        .product-info h2 {
            font-family: 'Bebas Neue', sans-serif; /* ชื่อสินค้าใช้ Bebas Neue */
            font-size: 2.5em; /* ปรับขนาดฟอนต์ชื่อสินค้า */
            color: #60C4B4; /* สีเขียวสด */
            margin: 0; /* เอา margin เดิมออก เพราะจัดการด้วย container */
            margin-right: 10px; /* ระยะห่างระหว่างชื่อกับไอคอน */
        }

        .product-info .favorite-icon { /* สไตล์สำหรับไอคอนหัวใจ */
            width: 28px; /* ขนาดไอคอน */
            height: 28px;
            cursor: pointer; /* ทำให้รู้ว่าคลิกได้ */
            /* เพิ่ม transition ถ้าต้องการให้มี animation ตอน hover */
        }

        .product-description, .product-details-section {
            font-family: 'Prompt', sans-serif; /* ส่วนรายละเอียดใช้ Prompt */
            margin-top: 15px; /* ปรับระยะห่าง */
            text-align: left;
            font-size: 1em;
            color: #444; /* ปรับสีให้อ่านง่ายขึ้น */
        }

        .product-description h3, .product-details-section h3 { /* เพิ่ม h3 สำหรับ details section ด้วย */
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.6em;
            color: #FF3377;
            margin-bottom: 8px; /* ปรับระยะห่าง */
        }

        .product-details-section p {
            margin: 5px 0; /* ปรับระยะห่างระหว่างบรรทัด */
            font-size: 0.95em; /* ปรับขนาดเล็กน้อย */
        }
        .product-details-section p strong {
            color: #333;
        }

        .product-info .price-options {
            margin-top: 25px; /* ปรับระยะห่าง */
            display: flex;
            flex-wrap: wrap; /* ให้ปุ่มขึ้นบรรทัดใหม่ได้บนจอเล็ก */
            gap: 10px;
            font-size: 1em;
        }

        .product-info .price-options button {
            font-family: 'Prompt', sans-serif;
            padding: 10px 20px; /* ปรับ padding */
            background-color: #FFB6C1; /* สีชมพูพีช */
            color: #333; /* เปลี่ยนสีตัวอักษร */
            font-size: 0.95em; /* ปรับขนาดฟอนต์ */
            border-radius: 8px; /* เพิ่มความโค้งมน */
            border: none;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
        }

        .product-info .price-options button:hover {
            background-color: #FF9AAE; /* สีชมพูสดขึ้นเล็กน้อย */
            transform: translateY(-2px); /* เอฟเฟกต์ลอยเล็กน้อย */
        }
        .product-info .price-options button.active { /* สไตล์สำหรับปุ่มที่ถูกเลือก (ถ้ามี) */
            background-color: #FF3377;
            color: white;
        }


        .product-info .buttons {
            margin-top: 25px; /* ปรับระยะห่าง */
            display: flex;
            gap: 15px;
            flex-wrap: wrap; /* ให้ปุ่มขึ้นบรรทัดใหม่ได้บนจอเล็ก */
        }

        .btn {
            font-family: 'Prompt', sans-serif; /* ปุ่มใช้ Prompt */
            font-size: 1.1em; /* ปรับขนาดฟอนต์ */
            padding: 12px 28px; /* ปรับ padding */
            background-color: #00A300; /* สีเขียวสด */
            color: #ffffff;
            text-decoration: none;
            border-radius: 8px; /* เพิ่มความโค้งมน */
            transition: background-color 0.3s, transform 0.2s;
            text-align: center;
        }

        .btn:hover {
            background-color: #008200; /* สีเขียวเข้มขึ้น */
            transform: translateY(-2px);
        }
        .btn.buy-now { /* สไตล์เฉพาะสำหรับปุ่ม Buy Now ถ้าต้องการ */
            background-color: #FF3377;
        }
        .btn.buy-now:hover {
            background-color: #e6005c;
        }


        /* Reviews Section */
        .reviews {
            margin-top: 40px; /* ปรับระยะห่าง */
            padding: 25px; /* ปรับ padding */
            background-color: #fff;
            border-radius: 10px; /* เพิ่มความโค้งมน */
            box-shadow: 0px 4px 15px rgba(0, 0, 0, 0.08); /* ปรับเงา */
        }

        .reviews h3 {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 2em;
            color: #60C4B4;
            margin-bottom: 20px;
            text-align: center; /* จัดกลาง */
        }

        .review {
            border-bottom: 1px solid #eee; /* ปรับสีเส้นคั่น */
            padding: 20px 0; /* ปรับ padding */
        }

        .review:last-child {
            border-bottom: none;
        }

        .review .reviewer-name {
            font-size: 1.1em; /* ปรับขนาดฟอนต์ */
            font-weight: 500; /* ปรับน้ำหนัก */
            color: #333;
        }

        .review .rating {
            color: #FFB300; /* เปลี่ยนเป็นสีเหลืองทองสำหรับดาว */
            margin-top: 8px; /* ปรับระยะห่าง */
            font-size: 1.1em;
        }

        .review .review-text {
            color: #555;
            font-size: 1em; /* ปรับขนาดฟอนต์ */
            margin-top: 10px;
            line-height: 1.7; /* เพิ่ม line-height */
        }
    </style>
</head>

<body>
    <div class="header">
        <div>
            <h1 class="logo">MindVibe</h1>
            <p class="slogan">Look good. Feel right. Live true. | Mindfully curated outfits for every emotion and moment.</p>
        </div>
    </div>

    <div class="product-detail">
        <div class="product-image">
            <img src="{{ clothing.image.url }}" alt="{{ clothing.name }}">
        </div>

        <div class="product-info">
            <div class="product-title-container"> <h2>{{ clothing.name }}</h2>
                <a href="{% url 'clothing:add_to_favorites' pk=clothing.pk %}">
                    <img src="{% static 'images/heart_icon.png' %}" alt="Add to Favorites" class="favorite-icon">
                </a>
            </div>

            <div class="product-description">
                <h3>Product Details</h3>
                <p>{{ clothing.product_details|linebreaksbr }}</p> </div>

            <div class="product-details-section">
                 <h3>More Information</h3> <p><strong>Color:</strong> {{ clothing.color }}</p>
                <p><strong>Material:</strong> {{ clothing.material }}</p>
                <p><strong>Fit:</strong> {{ clothing.fit }}</p>
                <p><strong>Design:</strong> {{ clothing.design }}</p>
                <p><strong>Versatility:</strong> {{ clothing.versatility }}</p>
                <p><strong>Sizes Available:</strong> {{ clothing.sizes_available }}</p>
                <p><strong>Care Instructions:</strong> {{ clothing.care_instructions }}</p>
                <p><strong>Perfect For:</strong> {{ clothing.perfect_for }}</p>
            </div>

            <div class="price-options">
                <button data-price="{{ clothing.price_per_day_1 }}">1 Day: ${{ clothing.price_per_day_1 }}</button>
                <button data-price="{{ clothing.price_per_day_3 }}">3 Days: ${{ clothing.price_per_day_3 }}</button>
                <button data-price="{{ clothing.price_per_day_5 }}">5 Days: ${{ clothing.price_per_day_5 }}</button>
                <button data-price="{{ clothing.price_per_day_7 }}">7 Days: ${{ clothing.price_per_day_7 }}</button>
            </div>

            <div class="buttons">
                <a href="#" class="btn">Add to Cart</a>
                <a href="#" class="btn buy-now">Buy Now</a> </div>
        </div>
    </div>

    <div class="reviews">
        <h3>Customer Reviews</h3>
        {% for review in clothing.reviews.all %} {# สมมติว่า clothing object มี related reviews #}
            <div class="review">
                <div class="reviewer-name">{{ review.user.username }}</div> {# สมมติว่า review มี user field #}
                <div class="rating">
                    {% for i in "x"|rjust:review.rating|slice:":review.rating" %}⭐{% endfor %} {# แสดงดาวตาม rating #}
                </div>
                <div class="review-text">
                    {{ review.comment|linebreaksbr }}
                </div>
            </div>
        {% empty %}
            <p style="text-align:center; font-family: 'Prompt', sans-serif;">No reviews yet for this product.</p>
        {% endfor %}

        {% if not clothing.reviews.all %}
            <div class="review">
                <div class="reviewer-name">Kristin Watson</div>
                <div class="rating">⭐⭐⭐⭐⭐</div>
                <div class="review-text">
                    Love it! From the fit to the fabric, everything about these pieces is just perfect. They're comfortable, stylish, and exactly what I was looking for.
                </div>
            </div>
            <div class="review">
                <div class="reviewer-name">Bessie Cooper</div>
                <div class="rating">⭐⭐⭐⭐⭐</div>
                <div class="review-text">
                    Excellent product, I like it! The fit is spot-on, and the fabric feels amazing against my skin. These pieces are not only comfortable but incredibly stylish as well.
                </div>
            </div>
        {% endif %}
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const priceButtons = document.querySelectorAll('.price-options button');
            priceButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // ลบ class 'active' ออกจากทุกปุ่ม
                    priceButtons.forEach(btn => btn.classList.remove('active'));
                    // เพิ่ม class 'active' ให้กับปุ่มที่ถูกคลิก
                    this.classList.add('active');
                    // อาจจะมีการอัปเดตราคาที่แสดงผล หรือค่าใน input ที่ซ่อนอยู่ตรงนี้
                    console.log('Selected price:', this.dataset.price);
                });
            });
        });
    </script>

</body>
</html>